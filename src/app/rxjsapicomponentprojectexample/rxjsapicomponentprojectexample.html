
<div class="container mt-5">

  <h2 class="text-primary text-center mb-4">User Management (CRUD)</h2>

  <!-- Success Message -->
  <div *ngIf="message" class="alert alert-success">
    {{ message }}
  </div>

  <!-- Form Card -->
  <div class="card p-4 shadow mb-4">
    <h4>{{ isEdit ? 'Update User' : 'Add New User' }}</h4>

    <form (ngSubmit)="submitForm()" #userForm="ngForm">

      <div class="mb-3">
        <label class="form-label">Name</label>
        <input type="text"
               class="form-control"
               name="name"
               [(ngModel)]="user.name"
               required>
      </div>

      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email"
               class="form-control"
               name="email"
               [(ngModel)]="user.email"
               required>
      </div>

      <button class="btn btn-success me-2" type="submit">
        {{ isEdit ? 'Update' : 'Add' }}
      </button>

      <button type="button"
              class="btn btn-secondary"
              (click)="resetForm()">
        Reset
      </button>

    </form>
  </div>

  <!-- User Table -->
  <div class="card shadow p-3">
    <h4>User List</h4>

    <table class="table table-bordered table-striped mt-3">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th width="150">Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.id }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>
            <button class="btn btn-sm btn-warning me-2"
                    (click)="editUser(user)">
              Edit
            </button>

            <button class="btn btn-sm btn-danger"
                    (click)="deleteUser(user.id!)">
              Delete
            </button>
          </td>
        </tr>
      </tbody>

    </table>
  </div>

</div>
